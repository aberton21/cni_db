{"ast":null,"code":"import _objectSpread from \"/Users/anthonyberton/Desktop/mern-stack-example-main/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/Users/anthonyberton/Desktop/mern-stack-example-main/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/anthonyberton/Desktop/mern-stack-example-main/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/anthonyberton/Desktop/mern-stack-example-main/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anthonyberton/Desktop/mern-stack-example-main/mern/client/src/components/edit.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router\";\nexport default function Edit() {\n  var _useState = useState({\n    name: \"\",\n    position: \"\",\n    level: \"\",\n    certifications: \"\",\n    cni_email: \"\",\n    gender: \"\",\n    records: []\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      form = _useState2[0],\n      setForm = _useState2[1];\n\n  var params = useParams();\n  var navigate = useNavigate();\n  useEffect(function () {\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var id, response, message, record;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                id = params.id.toString();\n                _context.next = 3;\n                return fetch(\"http://localhost:5000/record/\".concat(params.id.toString()));\n\n              case 3:\n                response = _context.sent;\n\n                if (response.ok) {\n                  _context.next = 8;\n                  break;\n                }\n\n                message = \"An error has occured: \".concat(response.statusText);\n                window.alert(message);\n                return _context.abrupt(\"return\");\n\n              case 8:\n                _context.next = 10;\n                return response.json();\n\n              case 10:\n                record = _context.sent;\n\n                if (record) {\n                  _context.next = 15;\n                  break;\n                }\n\n                window.alert(\"Record with id \".concat(id, \" not found\"));\n                navigate(\"/\");\n                return _context.abrupt(\"return\");\n\n              case 15:\n                setForm(record);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n    return;\n  }, [params.id, navigate]); // These methods will update the state properties.\n\n  function updateForm(value) {\n    return setForm(function (prev) {\n      return _objectSpread({}, prev, value);\n    });\n  }\n\n  function onSubmit(_x) {\n    return _onSubmit.apply(this, arguments);\n  } // This following section will display the form that takes input from the user to update the data.\n\n\n  function _onSubmit() {\n    _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var editedPerson;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              editedPerson = {\n                name: form.name,\n                position: form.position,\n                level: form.level,\n                certifications: form.certifications,\n                cni_email: form.cni_email,\n                gender: form.gender\n              }; // This will send a post request to update the data in the database.\n\n              _context2.next = 4;\n              return fetch(\"http://localhost:5000/update/\".concat(params.id), {\n                method: \"POST\",\n                body: JSON.stringify(editedPerson),\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 4:\n              navigate(\"/\");\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _onSubmit.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, \"Update Record\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Name: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"name\",\n    value: form.name,\n    onChange: function onChange(e) {\n      return updateForm({\n        name: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"position\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Department/Program: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"position\",\n    value: form.position,\n    onChange: function onChange(e) {\n      return updateForm({\n        position: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"cni_email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, \"Email: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"position\",\n    value: form.cni_email,\n    onChange: function onChange(e) {\n      return updateForm({\n        cni_email: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"certifications\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, \"Documentations: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"certifications\",\n    value: form.certifications,\n    onChange: function onChange(e) {\n      return updateForm({\n        certifications: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check form-check-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"positionOptions\",\n    id: \"positionFaculty\",\n    value: \"Faculty\",\n    checked: form.level === \"Faculty\",\n    onChange: function onChange(e) {\n      return updateForm({\n        level: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"positionFaculty\",\n    className: \"form-check-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \"Faculty\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check form-check-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"positionOptions\",\n    id: \"positionStaff\",\n    value: \"Staff\",\n    checked: form.level === \"Staff\",\n    onChange: function onChange(e) {\n      return updateForm({\n        level: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"positionStaff\",\n    className: \"form-check-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, \"Staff\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check form-check-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"positionOptions\",\n    id: \"positionStudent\",\n    value: \"Student\",\n    checked: form.level === \"Student\",\n    onChange: function onChange(e) {\n      return updateForm({\n        level: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"positionStudent\",\n    className: \"form-check-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, \"Student\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check form-check-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"genderOptions\",\n    id: \"genderMale\",\n    value: \"Male\",\n    checked: form.gender === \"Male\",\n    onChange: function onChange(e) {\n      return updateForm({\n        gender: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"genderMale\",\n    className: \"form-check-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, \"Male\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check form-check-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"genderOptions\",\n    id: \"genderFemale\",\n    value: \"Female\",\n    checked: form.gender === \"Female\",\n    onChange: function onChange(e) {\n      return updateForm({\n        gender: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"genderFemale\",\n    className: \"form-check-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, \"Female\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Update Record\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/anthonyberton/Desktop/mern-stack-example-main/mern/client/src/components/edit.js"],"names":["React","useState","useEffect","useParams","useNavigate","Edit","name","position","level","certifications","cni_email","gender","records","form","setForm","params","navigate","fetchData","id","toString","fetch","response","ok","message","statusText","window","alert","json","record","updateForm","value","prev","onSubmit","e","preventDefault","editedPerson","method","body","JSON","stringify","headers","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router\";\n\nexport default function Edit() {\n  const [form, setForm] = useState({\n    name: \"\",\n    position: \"\",\n    level: \"\",\n    certifications: \"\",\n    cni_email: \"\",\n    gender: \"\",\n    records: [],\n  });\n  const params = useParams();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    async function fetchData() {\n      const id = params.id.toString();\n      const response = await fetch(`http://localhost:5000/record/${params.id.toString()}`);\n\n      if (!response.ok) {\n        const message = `An error has occured: ${response.statusText}`;\n        window.alert(message);\n        return;\n      }\n\n      const record = await response.json();\n      if (!record) {\n        window.alert(`Record with id ${id} not found`);\n        navigate(\"/\");\n        return;\n      }\n\n      setForm(record);\n    }\n\n    fetchData();\n\n    return;\n  }, [params.id, navigate]);\n\n  // These methods will update the state properties.\n  function updateForm(value) {\n    return setForm((prev) => {\n      return { ...prev, ...value };\n    });\n  }\n\n  async function onSubmit(e) {\n    e.preventDefault();\n    const editedPerson = {\n      name: form.name,\n      position: form.position,\n      level: form.level,\n      certifications: form.certifications,\n      cni_email: form.cni_email,\n      gender: form.gender,\n    };\n\n    // This will send a post request to update the data in the database.\n    await fetch(`http://localhost:5000/update/${params.id}`, {\n      method: \"POST\",\n      body: JSON.stringify(editedPerson),\n      headers: {\n        'Content-Type': 'application/json'\n      },\n    });\n\n    navigate(\"/\");\n  }\n\n  // This following section will display the form that takes input from the user to update the data.\n  return (\n    <div>\n      <h3>Update Record</h3>\n      <form onSubmit={onSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"name\">Name: </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"name\"\n            value={form.name}\n            onChange={(e) => updateForm({ name: e.target.value })}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"position\">Department/Program: </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"position\"\n            value={form.position}\n            onChange={(e) => updateForm({ position: e.target.value })}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"cni_email\">Email: </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"position\"\n            value={form.cni_email}\n            onChange={(e) => updateForm({ cni_email: e.target.value })}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"certifications\">Documentations: </label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"certifications\"\n            value={form.certifications}\n            onChange={(e) => updateForm({ certifications: e.target.value })}\n          />\n        </div>\n        <div className=\"form-group\">\n          <div className=\"form-check form-check-inline\">\n            <input\n              className=\"form-check-input\"\n              type=\"radio\"\n              name=\"positionOptions\"\n              id=\"positionFaculty\"\n              value=\"Faculty\"\n              checked={form.level === \"Faculty\"}\n              onChange={(e) => updateForm({ level: e.target.value })}\n            />\n            <label htmlFor=\"positionFaculty\" className=\"form-check-label\">Faculty</label>\n          </div>\n          <div className=\"form-check form-check-inline\">\n            <input\n              className=\"form-check-input\"\n              type=\"radio\"\n              name=\"positionOptions\"\n              id=\"positionStaff\"\n              value=\"Staff\"\n              checked={form.level === \"Staff\"}\n              onChange={(e) => updateForm({ level: e.target.value })}\n            />\n            <label htmlFor=\"positionStaff\" className=\"form-check-label\">Staff</label>\n          </div>\n          <div className=\"form-check form-check-inline\">\n            <input\n              className=\"form-check-input\"\n              type=\"radio\"\n              name=\"positionOptions\"\n              id=\"positionStudent\"\n              value=\"Student\"\n              checked={form.level === \"Student\"}\n              onChange={(e) => updateForm({ level: e.target.value })}\n            />\n            <label htmlFor=\"positionStudent\" className=\"form-check-label\">Student</label>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <div className=\"form-check form-check-inline\">\n            <input\n              className=\"form-check-input\"\n              type=\"radio\"\n              name=\"genderOptions\"\n              id=\"genderMale\"\n              value=\"Male\"\n              checked={form.gender === \"Male\"}\n              onChange={(e) => updateForm({ gender: e.target.value })}\n            />\n            <label htmlFor=\"genderMale\" className=\"form-check-label\">Male</label>\n          </div>\n          <div className=\"form-check form-check-inline\">\n            <input\n              className=\"form-check-input\"\n              type=\"radio\"\n              name=\"genderOptions\"\n              id=\"genderFemale\"\n              value=\"Female\"\n              checked={form.gender === \"Female\"}\n              onChange={(e) => updateForm({ gender: e.target.value })}\n            />\n            <label htmlFor=\"genderFemale\" className=\"form-check-label\">Female</label>\n          </div>\n        </div>\n        <br />\n\n        <div className=\"form-group\">\n          <input\n            type=\"submit\"\n            value=\"Update Record\"\n            className=\"btn btn-primary\"\n          />\n        </div>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}